.. _mongoc_client_pool_t:

====================
mongoc_client_pool_t
====================

A connection pool for multi-threaded programs. See :ref:`mongoc_connection_pooling`.

Synopsis
--------

.. code-block:: c

   typedef struct _mongoc_client_pool_t mongoc_client_pool_t

``mongoc_client_pool_t`` is the basis for multi-threading in the MongoDB C driver. Since
:ref:`mongoc_client_t` structures are not thread-safe, this structure is used to retrieve
a new :ref:`mongoc_client_t` for a given thread. This structure *is thread-safe*, except for
its destructor method, :ref:`mongoc_client_pool_destroy`, which *is not thread-safe* and must
only be called from one thread.

Example
-------

.. literalinclude:: ../../includes/examples/example-pool.c
   :language: c
   :caption: example-pool.c

Functions
---------

.. toctree::
  :titlesonly:
  :maxdepth: 1

  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_destroy
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_enable_auto_encryption
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_max_size
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_min_size
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_new
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_new_with_errors
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_pop
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_push
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_set_apm_callbacks
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_set_appname
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_set_error_api
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_set_server_api
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_set_ssl_opts
  /libmongoc/api/mongoc_client_pool_t/mongoc_client_pool_try_pop

