.. _mongoc_cursor_t:

===============
mongoc_cursor_t
===============

Client-side cursor abstraction

Synopsis
--------

.. code-block:: c

   typedef struct _mongoc_cursor_t mongoc_cursor_t;

``mongoc_cursor_t`` provides access to a MongoDB query cursor.
It wraps up the wire protocol negotiation required to initiate a query and retrieve
an unknown number of documents.

Common cursor operations include:

- Determine which host we've connected to with :ref:`mongoc_cursor_get_host`.
- Retrieve more records with repeated calls to :ref:`mongoc_cursor_next`.
- Clone a query to repeat execution at a later point with :ref:`mongoc_cursor_clone`.
- Test for errors with :ref:`mongoc_cursor_error`.

Cursors are lazy, meaning that no connection is established and no network traffic occurs
until the first call to :ref:`mongoc_cursor_next`.

Thread Safety
-------------

``mongoc_cursor_t`` is *NOT* thread safe. It may only be used from within the thread
in which it was created.

Example
-------

.. literalinclude:: /libmongoc/includes/examples/example-client.c
   :language: c
   :caption: Query MongoDB and iterate results

Functions
---------

.. toctree::
   :titlesonly:
   :maxdepth: 1

   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_clone
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_current
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_destroy
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_error
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_error_document
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_get_batch_size
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_get_hint
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_get_host
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_get_id
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_get_limit
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_get_max_await_time_ms
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_is_alive
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_more
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_new_from_command_reply
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_new_from_command_reply_with_opts
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_next
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_set_batch_size
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_set_hint
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_set_limit
   /libmongoc/api/mongoc_cursor_t/mongoc_cursor_set_max_await_time_ms

